<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1, viewport-fit=cover"
    >
    <title>Pow NES GUI</title>
    <style>
        :root {
            color-scheme: light;
            --bg: #f5f5f5;
            --panel: #ffffff;
            --text: #111111;
            --muted: #5a5a5a;
            --line: #d7d7d7;
            --danger: #a32626;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 16px;
            background: var(--bg);
            color: var(--text);
            font-family: 'IBM Plex Sans', 'Helvetica Neue', sans-serif;
        }

        .layout {
            max-width: 980px;
            margin: 0 auto;
            display: grid;
            gap: 16px;
        }

        .panel {
            background: var(--panel);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 12px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        button,
        input[type="file"] {
            font: inherit;
        }

        button {
            border: 1px solid var(--line);
            background: #fff;
            color: var(--text);
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .status {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            margin-top: 10px;
            color: var(--muted);
            font-size: 14px;
        }

        .canvas-wrap {
            display: grid;
            place-items: center;
            background: #111;
            border-radius: 10px;
            overflow: hidden;
        }

        canvas {
            width: min(100%, 768px);
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            background: #000;
            display: block;
        }

        .help {
            margin-top: 10px;
            color: var(--muted);
            font-size: 13px;
        }

        .error {
            margin-top: 10px;
            color: var(--danger);
            min-height: 1.3em;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <main class="layout">
        <section class="panel">
            <div class="controls">
                <input id="romInput" type="file" accept=".nes">
                <button id="startBtn" disabled>Start</button>
                <button id="pauseBtn" disabled>Pause</button>
                <button id="resetBtn" disabled>Reset</button>
                <button id="stepBtn" disabled>Step 1 Frame</button>
            </div>
            <div class="status">
                <span>ROM: <strong id="romName">(none)</strong></span>
                <span>Frames: <strong id="frameCount">0</strong></span>
                <span>FPS: <strong id="fps">0</strong></span>
                <span>Mapper: <strong id="mapper">-</strong></span>
            </div>
            <p class="help">
                Keyboard: Arrow keys / WASD, J=A, K=B, Enter=Start,
                Shift=Select.
            </p>
            <p class="error" id="errorText"></p>
        </section>

        <section class="panel canvas-wrap">
            <canvas id="screen" width="256" height="240"></canvas>
        </section>
    </main>

    <script type="module" src="/web/app.mjs"></script>
</body>
</html>
